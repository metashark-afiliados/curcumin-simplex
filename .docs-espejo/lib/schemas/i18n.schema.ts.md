# /.docs-espejo/lib/schemas/i18n.schema.ts.md

/**
 * @file /.docs-espejo/lib/schemas/i18n.schema.ts.md
 * @description Documento Espejo y SSoT conceptual para el schema de internacionalización.
 * @author IA Ingeniera de Software Senior v2.0
 * @version 1.0.0
 */

# Manifiesto Conceptual: `i18n.schema`

## 1. Rol Estratégico y Propósito

Este aparato no es código de lógica de negocio, sino un **contrato de datos y guardián de la integridad del contenido**. Su propósito fundamental es ser la Única Fuente de Verdad (SSoT) para la **estructura** de todo el contenido textual de la aplicación.

Utiliza `Zod` para crear un "molde" que define exactamente qué claves de texto deben existir y de qué tipo deben ser. El orquestador `getDictionary` usa este molde para validar los archivos `.json` en tiempo de build, actuando como una red de seguridad automatizada.

## 2. Arquitectura y Principios Aplicados

-   **Seguridad de Tipos de Extremo a Extremo:** Al definir un contrato estricto, garantizamos que si el build tiene éxito, es imposible que haya un `typo` en una clave de traducción o que falte una traducción obligatoria, eliminando toda una categoría de posibles bugs en producción.
-   **Compatibilidad con Renderizado Condicional:** La refactorización clave ha sido la introducción de `.optional()` en los schemas de las secciones "plug and play". Esto desacopla el contrato de contenido de la configuración de renderizado. Permite que una sección sea deshabilitada en el `.env` y que sus traducciones sean eliminadas del `.json` sin romper el build, lo cual es una arquitectura resiliente y flexible.
-   **Principio DRY (Don't Repeat Yourself):** Se han extraído schemas reutilizables como `LogoSchema` y `LinkSchema`. Si en el futuro necesitamos cambiar la estructura de un logo (ej. añadir un `width` y `height`), solo lo hacemos en un lugar, y Zod garantizará que el cambio se aplique consistentemente en todo el diccionario.

## 3. Zona de Melhorias Futuras

1.  **Generación Automática de Tipos:** Aunque Zod infiere los tipos, se podría configurar un script que genere automáticamente un archivo `dictionary.d.ts` a partir del schema, para una integración aún más explícita en algunos casos de uso.
2.  **Validación de Contenido:** El schema podría volverse más estricto, no solo validando el tipo sino también el contenido. Por ejemplo, `z.string().min(10).max(120)` para descripciones de metadatos, asegurando que cumplan con las mejores prácticas de SEO.
3.  **Integración con Herramientas de Traducción (i18n Ally):** La estructura clara de este schema puede ser utilizada por extensiones de VS Code como i18n Ally para proporcionar una experiencia de edición de traducciones directamente en el editor.